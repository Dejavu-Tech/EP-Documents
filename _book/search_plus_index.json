{"./":{"url":"./","title":"首页","keywords":"","body":"吃货星球™ 微信小程序部署&运营文档 本文档适用于微信小程序V3.6以上版本及新版小程序，旨在为您提供便捷的操作指南。请使用导航栏或搜索工具快速定位您的需求。 开始查看 .page-footer{ display: none; } #book-search-input { display:none; } .wrap-ep1{ position: absolute; display: block; pointer-events: auto; z-index: 18; font-family: \"Fira Sans\"; height: auto; width: auto; left: 10vh; bottom: 37vh; color: rgb(255, 255, 255); text-decoration: none; white-space: pre-wrap; min-height: 0; min-width: 0; max-height: none; max-width: none; text-align: left; line-height: 120px; letter-spacing: 0; font-weight: 500; font-size: 90px; transform-origin: 50% 50%; opacity: 1; transform: translate(0px, 0px); visibility: visible; } .wrap-ep2{ position: absolute; display: block; pointer-events: auto; z-index: 18; font-family: \"Fira Sans\"; height: auto; width: auto; left: 10vh; bottom: 30vh; color: rgb(255, 255, 255); text-decoration: none; white-space: pre-wrap; min-height: 0px; min-width: 0px; max-height: none; max-width: none; text-align: left; line-height: 55px; letter-spacing: 0px; font-weight: 400; font-size: 40px; transform-origin: 50% 50%; opacity: 1; transform: translate(0px, 0px); visibility: visible; } .wrap-ep3{ position: absolute; display: block; pointer-events: auto; z-index: 18; font-family: \"Fira Sans\"; height: auto; width: auto; left: 10vh; right: 20vh; bottom: 20vh; color: rgb(255, 255, 255); text-decoration: none; white-space: pre-wrap; min-height: 0; min-width: 0; max-height: none; max-width: none; text-align: left; line-height: 30px; letter-spacing: 0; font-weight: 400; font-size: 20px; transform-origin: 50% 50%; opacity: 1; transform: translate(0px, 0px); visibility: visible; } .wrap-ep4{ position: absolute; background-color: rgba(0, 0, 0, 0.75)!important; display: block; pointer-events: auto; z-index: 18; font-family: \"Fira Sans\"; height: auto; width: 280px; left: 10vh; padding: 16px 10px; bottom: 10vh; color: rgb(255, 255, 255)!important; text-decoration: none; white-space: pre-wrap; min-height: 0; min-width: 0; max-height: none; max-width: none; text-align: center; line-height: 30px; letter-spacing: 0; font-weight: 700; font-size: 18px; transform-origin: 50% 50%; opacity: 1; transform: translate(0px, 0px); visibility: visible; } .body-inner{ z-index: 8; background: linear-gradient(115deg, rgba(24,117,200,0.71) 0%, rgba(91,178,255,0.71) 100%); color: rgb(255, 255, 255); width: 100%; height: 100%; min-height: 0; min-width: 0; max-height: none; max-width: none; transform-origin: 50% 50%; opacity: 1; transform: translate(0px, 0px); visibility: visible; } .page-inner{ height: calc(100vh - 50px); } .book-body{ background-image: url(\"./im003.jpg\"); background-repeat: no-repeat; background-size: cover; background-position: 50% 50%; opacity: 1; transform: translate(0px, 0px); visibility: inherit; z-index: 20; } @media (max-width: 1240px){ .page-inner{ height: calc(100vh - 120px); } .book-body { padding-bottom: 0px; } .book-body .body-inner { position: static; height: calc(100vh - 70px); } .wrap-ep1{ font-size: 50px; left: 5vh; right: 5vh; bottom: 37vh; } .wrap-ep2{ font-size: 22px; left: 5vh; right: 5vh; bottom: 32vh; } .wrap-ep3{ font-size: 13px; left: 5vh; right: 5vh; } .wrap-ep4{ font-size: 18px; left: 5vh; right: 5vh; } } Copyright © Dejavu.Tech.,2019-2021 all right reserved，文档更新日期： 2021-09-03 "},"config/start.html":{"url":"config/start.html","title":"介绍","keywords":"","body":"产品介绍 关于EATER PLANET吃货星球 吃货星球是基于Thinkphp开发的多功能电商快速开发平台，整合bootstrap、Vue、Redis等技术，并提供基于原生或uni-app开发的微信、支付宝、字节小程序及Android/iOS APP等全端客户端，为小微型物流或批发零售企业及个人实现极速优质的社区电商平台和数字化运营管理。 为什么要使用吃货星球 快速部署 服务器可视化一键部署商城系统后台 全功能电商 业界功能最多的电商系统，包括团购、秒杀、拼团、接龙、积分、优惠券、专题、子商户、会员卡、社交门店、广告、菜谱、直播、商品推荐等全功能 主题UI切换配置 支持动态切换主题，支持主题颜色多重设置，将于5.0新版支持暗黑模式 缓存设计 基于Redis缓存设计，高并发下低延迟加载图片视频及处理订单 权限管理 商户及管理员等多维度权限管理、多轻松控制权限按钮显示 功能模块化 后台一键开启关闭多种营销功能 消息管理 基于WebSocket实现站内消息实时推送与管理 物流管理 整合快递、同城配送及达达、顺丰同城、快递多种第三方物流API。 订单打印 一键生成多类型订单，支持飞鹅、易联云订单打印 附件管理 支持本地或第三方阿里云、腾讯云、七牛云文件存储服务，可动态任意切换 AI客服机器人 新版将支持产品级AI客服机器人，自动回复减少人工成本 大屏图表数据 提供丰富的图表数据大屏模块，新版将支持全面的财务报表生成 前端组件库 先进的EP模块化前端组件库，规范化SKU 全端开发 新版将支持iOS、Android、H5、各平台小程序（微信/支付宝/头条/抖音） 思维导图 待更新 技术架构 开发环境 语言/工具 版本 官网 说明 IntelliJ IDEA 2019.2.4 https://www.jetbrains.com/idea/ IDE Mysql 8.0.18 https://www.mysql.com/ 数据库 redis 3.2 https://redis.io/download 分布式缓存 PHP 5.6 https://www.php.net/ 全世界最好的语言？ SwitchHosts 3.5.2 https://oldj.github.io/SwitchHosts/ 本地host管理 X-shell 7 http://www.netsarang.com/download/software.html Linux远程连接工具 nginx 1.17.4 http://nginx.org/en/download.html HTTP和反向代理web服务器 Navicat 12.0.0 http://www.navicat.com.cn/ 数据库连接工具 PowerDesigner 16.5 http://powerdesigner.de/ 数据库设计工具 Axure 8 https://www.axure.com/ Android系统UI设计工具 MindMaster 8.5.0 http://www.edrawsoft.cn/mindmaster 思维导图设计工具 ScreenToGif 2.27.3 https://www.screentogif.com/ gif录制工具 PicPick 5.1.4.0 https://picpick.app/zh/ 图片处理工具 Snipaste 2.5.6 https://www.snipaste.com/ 屏幕截图工具 微信开发者工具 1.05.2102010 https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html 微信公众平台前端开发 支付宝小程序开发工具 1.15 https://docs.alipay.com/mini/ide/download 支付宝小程序前端开发 Figma 93.4.0 https://www.figma.com/ UI设计 后端 技术 说明 官网 thinkPHP 轻应用（小程序）后端开发框架 http://www.thinkphp.cn/ Node.js web应用及APP后端开发框架 https://nodejs.org/ Swagger-UI Api文档生产工具 https://github.com/swagger-api/swagger-ui Hibernator-Validator 验证框架 http://hibernate.org/validator/ Docker 应用容器引擎 https://www.docker.com/ 前端 技术 说明 官网 Bootstrap 后端前台框架 https://getbootstrap.com/ DT-Admin-Dashboard 后端前台管理模板 https://github.com/Dejavu-Tech/DT-Admin-Dashboard/ Vue H5前端框架 https://vuejs.org/ Vue-router 路由框架 https://router.vuejs.org/ Vuex 全局状态管理框架 https://vuex.vuejs.org/ Element H5前端UI框架 https://element.eleme.io/ Axios H5前端HTTP框架 https://github.com/axios/axios EP-CMS CMS组件库 https://github.com/Dejavu-Tech/EP-CMS/ apexcharts 图表框架 https://github.com/apexcharts/apexcharts.js/ Js-cookie cookie管理工具 https://github.com/js-cookie/js-cookie okam 支付宝小程序框架 https://ecomfe.github.io/okam/#/ uni-app 微信小程序框架 https://uniapp.dcloud.io/ DT-WeUI 小程序端UI组件库 https://github.com/Dejavu-Tech/DT-WeUI/ DT-AppUI 应用端UI组件库 https://github.com/Dejavu-Tech/DT-AppUI/ DT-App-UI EP应用端UI组件库 https://github.com/Dejavu-Tech/EP-App-UI/ 数据服务层 技术 说明 官网 Mysql 数据库 https://www.mysql.com/ Redis 分布式缓存 https://redis.io/ 运行环境 技术 版本 官网 nginx 1.18.0 http://nginx.org/en/download.html Mysql 5.6.48 https://www.mysql.com/ redis 3.2 https://redis.io/download PHP 7.1 https://www.php.net/ Pure-Ftpd 1.0.49 http://pureftpd.sourceforge.net/ phpMyAdmin 4.8 https://www.phpmyadmin.net/ 亦或直接安装堡塔Linux面板编译安装LNMP环境，版本请严格执行上表所列版本，否则将会出现不可预知错误！堡塔安装步骤请参阅配置服务器。 第三方组件 技术 说明 官网 七牛云 文件存储 https://developer.qiniu.com/kodo/sdk/1239/java 阿里云OSS 对象存储 https://github.com/aliyun/aliyun-php-sdk 腾讯云COS 对象存储 https://github.com/tencentyun/cos-js-sdk-v5 vaptcha 人机验证码SDK https://www.vaptcha.com/ PhpSpreadsheet PHP电子表格生成库 https://github.com/PHPOffice/PhpSpreadsheet 百度统计 web端统计工具 https://tongji.baidu.com 腾讯移动统计 小程序/app统计工具 https://mta.qq.com/mta/ctr_index/download 腾讯位置服务 腾讯移动端定位SDK https://lbs.qq.com/iosgeo/index.html 飞鹅打印机 云小票打印机API http://www.feieyun.com/open/index.html?name=1 易联云打印机 云小票打印机API https://dev.yilianyun.net/ Mob 全国天气预报接口 http://api.mob.com/#/apiwiki/weather Hotjar web端热力图分析反馈 https://www.hotjar.com/tour 253云通讯 营销短信及验证码 https://zz.253.com/v5.html#/api_word UEditor 富文本编辑器 http://ueditor.baidu.com/website/thirdproject.html 快递鸟 物流跟踪API http://www.kdniao.com/api-follow 达达配送 物流API https://newopen.imdada.cn/ 某些插件及接口需注册生成AppKey，作者不保证其免费期限及I/O上限调整 各版本说明 版本 功能 商用 快速部署费 更新及维护费 价格 版本获取 免费版 仅提供单一的商品上架、分类和订单管理 ❌ - 不定期免费更新 免费 GitHub仓库 单用户商用版 提供全功能电商模块 ✔️ 1000元 1000元/年 3800元，新版前端4980元 购买地址 多用户商用版 提供全功能电商模块 ✔️ 1000元 1000元/年 6800元，新版前端7980元 购买地址 快速上线版 提供单用户全功能电商模块 ✔️ - - 2800元/年，新版前端3980元 购买地址 二次开发授权 提供全功能电商模块及基础版前端 ✔️ - - 电询议价，新版不提供二次开发 详询作者 免费版：请遵循GPL v3.0开源协议。未遵循开源协议商用者，一经发现后果自负 快速上线版：使用本公司提供稳定的2核4G5M带宽云服务器，代理注册、发布小程序，提供云后台网站，购买即可上线使用（不提供多用户版本） 二次开发按照合同约定授权于以下场景：开发基于吃货星球的面向大众如服务收费的网站或应用程序，或非大众如企业内部的特定网站或应用程序或用于项目投标，并于合同限定商用环境、指定IP、软件有效期和最大部署数量，吃货星球受国家计算机软件著作权保护，违者必追究法律责任 演示版 后端 https://demo.ch871.com 用户名：epadmin 密码：19830908 前端(微信扫码) 新版前端(微信扫码) 即将更新 演示版后台及小程序前端为功能完整的多用户版，不定期更新测试版功能，并非最终版本。 商标及卡通形象 吃货星球包括不限于产品中所有插件、图片、视频、文字、字体版权及商业授权，及凡附带有吃货星球商标、LOGO和产品内卡通形象，应征询作者同意或合同约定书面授权客户使用以上商标及形象。 合同模板 有意向购买商用版的客户可下载合同模板以进一步了解本应用权限及购买事宜 点击此处下载 官网 吃货星球官方网站(更新中)； 蒂佳芙科技官方网站(更新中) 关于本文档 文档内容适用于吃货星球微信小程序V3.6以上版本或新版吃货星球微信小程序，V3.6以下可能会因为功能调整及升级导致无法检索，请尽快升级或联系客服。 购买快速部署的客户可跳过下一章准备工作，直接开始运营业务。如客户不具备服务器基础技术或无技术人员建议购买快速部署服务。 文档中的多商户、新版、V4.0.3等标记为标记中版本特有功能或权限，其他版本或更低版本请选择跳过。 本文档运营和优化内容为非公开内容，商用客户请联系客服免费解锁。 本文档在新的稳定版本发布之时同步更新，更新时间恕不另行通知。 对于本文档及软件使用过程中的如有任何疑问、bug和优化建议请点击github或联系QQ:142997。 本文档基于gitbook定制开发，遵循《吃货星球软件许可协议》，禁止商业性转载。 Copyright © Dejavu.Tech.,2019-2021 all right reserved，文档更新日期： 2021-09-15 "},"config/ready.html":{"url":"config/ready.html","title":"准备工作","keywords":"","body":"准备工作 为了保证吃货星球微信小程序的正常运营，请务必严格按照以下章节逐条做好准备工作，否则会产生不限于小程序登录、定位、支付、退款等不可预知的错误 快速上线版客户跳过本章内容 相关资质 根据腾讯对于电商类微信小程序的要求，小程序主体必须是个体工商户或企业，个人账户无法申请 如果涉及食品经营则必须提供食品经营许可证（食品生产企业必须提供食品生产许可证），其他类型企业根据其经营相关的前置审批的资质证书，具体要求可参见小程序信息里的服务类目 注册公众号 注册公众号和小程序的步骤和所需资料大同小异，公众号注册后小程序可复用公众号的主体认证资料直接申请小程序，无需重复交认证费用，且具有公众号推送订阅消息功能，因此本文直推公众号的注册流程。 1.打开微信公众平台，右上角点击立即注册 2.帐号类型选择服务号 3.填写从未注册过公众平台的邮箱，点击激活邮箱并登录您的邮箱，查看激活邮件，填写邮箱验证码、设置密码并点击注册。注：此密码为公众平台登录密码，不是邮箱密码 4.账号类型选择服务号 5.信息登记，选择国籍，主体类型公司或个体户都选择企业，企业类型再选择营业执照上的类型，填写企业名称、营业执照注册号，选择验证方式。建议选择法定代表人验证，验证通过后可以让管理员突破绑定数量的限制。不建议选择微信认证，会额外产生一笔验证费。 6.填写管理员信息，建议与该认证联系人保持一致，需要填写身份证，手机号验证码，及个人微信扫码认证，后续后台的登录也需要该管理员的微信扫码授权。 7.填写公众号名称及功能介绍 至此公众号注册完成并于30天内（自然日）去操作微信认证，认证通过，才算注册并认证成功，帐号才能正常使用。 8.微信认证，上传营业执照并点击申请 9.填写管理员信息，建议与该认证联系人保持一致 10.同意协议：签署《微信公众平台认证服务协议》 11.选择认证类型及填写认证资料 12.上传营业执照扫描件 13.填写主体对公银行账户信息 14.联系人信息填写，建议同上方的管理员信息保持一致 15.确认名称，公众号名称选择2种命名方式：基于商标命名、基于自选词汇； 16.选择开具发票的类型 17.支付公众号认证费 认证费支付后一般一个工作日内会有第三方认证机构的认证人员向所填联系人来电核实认证主体信息，请保持线路通畅并务必接听，否则认证失败费用不予退回。认证成功后会有站内信和邮件通知。 注册小程序 公众号注册认证完成后的主体认证资料可直接复用申请小程序， 1.打开微信公众平台并登录公众号，左侧广告与服务->小程序管理,右上角点击添加 2.选择快速注册并认证小程序 3.公众号管理员微信扫描并确认 4.勾选运营者信息和微信认证资质 5.填写从未注册过公众平台的邮箱作为小程序的登录账号，设置密码，勾选协议后提交 6.提交后进入邮箱，点击激活邮件里的链接 7.激活完成后填写管理员信息，手机激活码，管理员本人微信扫码认证后点击下一步 8.填写小程序信息，名称不能和其他已认证的小程序重名，重名争议的情况只能用注册商标证书进行申诉 9.服务类目最多添加五个，不需要把营业执照上的经营范围全部囊括，但小程序所售卖的商品和服务必须严格找准所需要的类目进行选择，大多数类目都需要相关专营的资质证书，如果急需优先调试或熟悉小程序功能可暂时选择商家自营->服装/鞋/箱包 吃货星球小程序具有独立商户功能，当开通独立商户时小程序主体就从商家自营变更成了电商平台的性质，此时就必须提供《增值电信业务许可证》 包括但不限于《注册商标证书》和《增值电信业务许可证》等资质证书的申请和满足条件时间不少于三个月以上，请提前准备，并在小程序正式运营前及时在此处更改服务类目并上传相关证书，否则小程序上传会被拒绝，上传后的小程序会在腾讯官方不定期审核后直接强制下架！！ 10.等待小程序审核完成，官方说明是3个工作日内，一般情况下1个工作日就会以邮件和公众号通知形式发送审核结果 11.审核完成后点击左侧设置，右测建议修改相关公众号、用户隐私保护指引和基础库最低版本设置 12.右侧相关公众号点击修改，页面会显示同一主体展示的公众号，勾选后确定 13.右侧用户隐私保护指引点击修改 -> 同意协议 -> 增加信息类型 14.至少勾选下图三个类型并确认 15.填写收集信息的用途（尽量照下图显示填写），存储地点选境内，填写邮箱、勾选承诺后确定 16.基础库最低版本设置选择2.13.1以上即可 17.牢记下方账号信息里的小程序AppID，存储时注意区分公众号AppID和小程序AppID 注册微信商户号 微信商户号是小程序、APP、H5等场景接入微信支付的必需支付平台，详细功能请自行查阅腾讯客服页面 注册 1.打开微信支付商户平台，点击成为商家或接入微信支付 2.选择注册微信支付商户号 3.选择作为支付超级管理员的微信扫码创建申请单 4.填入超级管理员实名信息，关注公众号并点击申请注册 5.这里如图所示填写并上传主体营业执照信息、法人身份证、对公账户信息、客服电话、小程序AppID，选择结算规则并上传相关资质后点击下一步 6.预览申请单内容并确认提交 7.提交后，系统会先对资料进行3~5秒的校验 8.若系统校验通过，页面会引导进行账户验证，请使用主体对公账户向财付通指定账户汇入指定金额 9.账户验证通过后，即已完成申请资料提交，微信支付会在1~2个工作日内完成资料审核，并通过公众号、短信、邮件向超级管理员通知审核结果，审核成功后签署协议即完成注册 配置证书和支付场景 1.注册完成后点击产品中心 -> AppID账号管理 -> 关联AppID 2.填写小程序的AppID，勾选协议后提交 3.完成后打开微信公众平台，登陆小程序，点击左侧微信支付，待关联商户号中确认与刚才注册的商户号之间的授权关系 4.预览信息勾选协议并授权 5.回到商户平台，点击产品中心 -> JSAPI支付，开通JSAPI支付 7.点击账户中心 -> 左侧安全中心，找到操作密码，按流程设置6位数字操作密码 8.点击账户中心 -> API安全 -> 申请证书申请支付证书 9.点击确定后下载证书工具，运行下载好的证书工具WXCertUtil.exe 10.安装下载好的证书工具WXCertUtil.exe 11.安装完成后点击申请证书 12.填入第8步中的商户号及商户名称后点击下一步 13.复制生成的请求串粘贴至第8步中商户中心页面的弹窗中，点击下一步 14.输入操作密码和短信验证码后点击确定 15.点击复制证书串，切换到证书工具界面，点击下一步，一般情况下会自动粘贴至文本框，继续下一步 16.点击查看证书文件夹，会看到一个格式为商户号_申请日期_cert.zip的支付证书zip压缩包 17.解压zip压缩包，可以看到蓝框中之后要用到的两个文件，请妥善保存！ 18.回到商户平台，点击账户中心 -> API安全，点击设置，按以下流程设置API秘钥 19.输入32位字符，可通过浏览器搜索密码生成器生成随机32位字符，随机安全性比自定义的高 19.牢记API秘钥并保存于安全环境，设置成功后点击完成 至此微信商户号注册基本完成，服务商商户号申请需要不少于两个主体（服务商、特约商户或子商户)，因官方服务商账户申请流程变动频繁，故本文档暂不收录，如需帮助请联系作者。 购买了本软件快速部署业务的客户请略过本章以下所有内容 注册腾讯位置服务 1.打开腾讯位置服务官网，点击注册（已注册的跳过1-3步） 2.输入手机号码和验证码，勾选协议后点击下一步 3.输入E-mail邮箱和对应邮件的验证码，点击下一步 4.注册登录成功后点击创建应用，或点击首页控制台后点击我的应用 5.点击创建应用 6.输入应用名称，应用类型选择电商，点击创建 7.点击添加Key 8.输入Key名称（自定义），勾选WebServiceAPI，选择授权IP，文本框中切记留空，勾选微信小程序，填写微信小程序AppID后点击保存 9.可看到我的应用中所创建的6段5字符腾讯位置服务Key，复制Key并妥善保存 自此腾讯位置服务Key创建完毕 购买及配置服务器 本小程序前后端分离，后端需要独立的服务器或云服务器，云服务器推荐使用腾讯云、阿里云和华为云服务器，本章使用腾讯云为例，后续章节如备案、解析、安全组设置等内容亦默认使用用腾讯云作为文档主要案例，其他云服务器配置大同小异，可于网上查找部署教程或咨询作者提供帮助 腾讯云注册 1.打开腾讯云官网，点击右上角免费注册 2.微信扫码关注腾讯云助手进行注册 3.微信快速认证注册完成后刷新浏览器，点击去实名认证 4.在控制台选择开始企业认证 5.按下图显示上传营业执照，填写相关内容后点击下一步 6.认证方式可根据自身实际情况和方便程度任选，选择后点击下一步 7.，认证完成后显示认证成功页面 购买云服务器 1.打开腾讯云产品限时秒杀，根据客户自身的规划、预计客户量、预算I/O并发等考量，选择合适的轻量应用型服务器或普通云服务器，服务器带宽尽量选择5M以上，如有疑问可联系作者给予方案建议 2.轻量应用型服务器活动地域请选择地理位置离客户最近的地域，镜像选择宝塔Linux面板 3.普通云服务器机型应选择SN3ne、S4或S5型，带宽选择5M或以上，系统镜像选择CentOS 7.5 64位 4.确认机型详情后支付 5.支付成功后自动跳转控制台，可看到实例中新购的云服务器实例，牢记并保存公网IPv4地址，至此服务器购买完成 域名注册备案和解析 包括不限于微信小程序等后台网站要求网站必须具有工信部备案的域名方可正常使用 域名注册 1.在腾讯云控制台界面点击左上角云产品，找到域名与网站，点击域名注册 2.点击立即选购 3.使用自定的英文字段进行查询，选择未被注册后缀后加入购物车，如后续有企业建站规划，优先考虑.com，.net，.cn等后缀域名，确定后点击右侧立即购买 4.新用户域名注册需点击新建信息模板，如已有模板请跳过4-6步 5.勾选使用账号信息填写，下列信息会自动填充，重点检查域名所有者（英文）、联系人和通讯地址，英文译名必须和中文拼音一致，证件类型选择营业执照，上传后检查识别证件号码是否和注册号一致，信息确认无误后勾选协议后点击提交 6.等待域名信息模板实名审核完毕（一般1-2个工作日） 7.实名认证完毕后返回域名订单，点击添加免费的SSL证书，选择已实名认证的域名信息模板，勾选协议后点击提交订单 8.于腾讯云代金券领取代金券大礼包（代金券领取资格和使用限制变更由腾讯云提供，如有变更本文档恕不另行通知），刷新订单页面，勾选使用代金券后点击提交订单 9.选择支付方式并支付订单 10.回到控制台，等待域名命名审核完成（一般1个工作日以内，.cn等域名审核时间会略长） 域名解析 11.审核完成后域名服务状态显示为正常，点击解析 12.假设申请的域名为aaa.com，如果aaa.com和www.aaa.com这个域名另有他用，可将小程序后台设为如wxapp.aaa.com这样的三级域名（如无需要请跳至第18步），点击添加记录，主机记录添加三级域名如wxapp，记录类型选择A，线路类型选择默认，记录值填入所购服务器公用IPv4地址如168.32.45.67，其他如图所示填写或选择，仔细检查无误后点击确定 13.由于购买域名时同时申请的免费SSL证书为单域名证书，即只支持aaa.com和www.aaa.com（除非申请的是付费泛域名型SSL证书），所以不同的三级域名都需要申请不同的免费SSL证书，点击操作下面的SSL 14.点击免费申请 15.申请后再次点击SSL（待验证状态），点击查看详情 16.弹出的控制台窗口稍等片刻，管理员手机收到证书颁发短信刷新页面，如图所示表明证书已验证完毕并成功颁发，点击下载 17.回到DNSPOD页面并刷新，可以看到自动加了一条验证记录，SSL图标变为绿色即为成功解析（成功后跳过以下18-23步） 18.如无其他建站需求，请直接点击快速添加解析 19.填入所购服务器公用IPv4地址如168.32.45.67后点击确定 20.点击左侧SSL证书，点击申请中 21.在弹出的控制台窗口中找到未绑定域名的证书，点击提交资料 22.填入所购域名和绑定邮箱后点击下一步 22.选择自动添加DNS验证后点击下一步 23.回到DNSPOD页面，等待片刻后刷新页面可以看到自动加了一条验证记录，SSL图标变为绿色即为成功解析 网站备案 在中国境内运营的所有域名网站必须通过工信部和公安部备案，否则所有数据传输将无法进行DNS解析，网页提示如下图 网站备案可通过各省管局网站、工信部网站、腾讯云控制台和腾讯云备案小程序等平台进行备案，本文档主要介绍在控制台备案的相关流程，由于备案时间一般在20个工作日以上，时间冗长，所以建议用户在购买服务器和域名之后立刻开始备案工作> 1.域名购买实名认证满3个工作日之后，在腾讯云控制台上方云产品找到并点击网站备案 2.填入企业和域名等相关信息后点击立即验证 3.在真实性核验页面，使用手机微信扫描页面提供的二维码 4.自动跳转至小程序 腾讯云视频核验，并按照要求上传相关信息后点击提交 5.控制台页面自动刷新后，填写主体信息和主体负责人信息后点击下一步 6.填写网站信息、网站负责人和网站补充材料后点击保存当前网站 域名证书在控制台我的域名页面，查看已购买的所有域名信息，在待下载域名证书的域名行中，单击更多 -> 下载域名证书，授权书模板如下图 7.点击下一步 8.确认信息无误后勾选协议，点击提交审核 9.至此备案材料提交完毕，腾讯云审核专员会在1-2个工作日内进行审核并电话联系沟通确认订单问题，请确保填写的联系方式真实且可接通。若未接听电话，备案申请将被驳回 10.一般20个工作日后，工信部会通过短信通知至工信部备案管理系统进行短信核验,短信核验成功后网站备案流程完毕。 11.网站备案完成过后可通过DNS.TECH域名检测输入域名查询备案信息，备案正常的网站域名如下图所示（忽略IPv6） 备案后续流程 工信部备案完成后需要在1个月内主动申请公安备案，根据网站用途和各省管局要求可能需要经营性备案，具体备案流程请自行查阅各地管局和公安局要求和链接 后台搭建及部署 本小程序后台需要服务器LNMP环境搭建(linux+Nginx + Mysql + PHP) ，配置该环境有多种方式，本文推荐宝塔可视化面板安装，便于节省服务器维护的人力 LNMP一键安装包 网址：lnmp.org，里面介绍一些要求，功能等，进入到安装页面说明，找到相关的安装说明，运行，然后按照操作说明安装即可 宝塔Linux面板 以下操作流程以腾讯云服务器为例 1.以root权限登录服务器界面,安装宝塔面板 yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh e3bb5f4de 2.记住登录端口及后缀、账户和初始密码 安装完成后如没有显示登录初始信息，则输入： sudo /etc/init.d/bt default 3.升级面板 curl http://download.bt.cn/install/update6.sh|bash 4.此时访问外网面板是打不开的，因为宝塔面板的默认端口（8888）不在服务器实例的安全组规则内，所以需要打开腾讯云安全组 4.1.新建安全组 4.2.点击修改规则 4.3.导入入站规则 下载sg_input_rules.xlsx入站规则，选择此文件导入 4.4.导入出站规则 下载sg_output_rules.xlsx出站规则，选择此文件导入 4.5.检查是否导入完整 4.6.安全组关联服务器实例 5.浏览器打开外网面板地址，输入面板初始账号和密码 6.阅读并勾选协议后进入面板 7.面板首页弹出的推荐安装套件，选择LNMP,并严格选择图示的版本，推荐使用快速安装 8.安装完成后绑定宝塔账号 至此宝塔面板环境搭建完毕。 手工搭建环境 1.查看是否已安装wget rpm -qa wget 2.否则安装 yum install wget 3.查看是否已安装编译器 rpm -qa gcc 4.否则安装 yum install gcc gcc-c++ 5.安装nginx依赖包 nginx的Rewrite模块和HTTP核心模块会使用到PCRE正则表达式语法 yum -y install pcre pcre-devel 6.nginx的各种模块中需要使用gzip压缩 yum -y install zlib zlib-devel 7.安装套接字层密码库 yum -y install openssl openssl-devel 8.下载nginx包并解压到/usr/local/src目录中 cd /usr/local/src wget http://nginx.org/download/nginx-1.1.10.tar.gz tar -zxvf nginx-1.1.10.tar.gz 9.编译安装到/usr/local/nginx目录中 cd nginx-1.1.10 ./configure --prefix=/usr/local/nginx make make install 10.创建并设置nginx运行账号 groupadd nginx useradd -M -g nginx -s /sbin/nologin nginx cd /usr/local/nginx/conf vim nginx.conf 11.设置user参数 user nginx nginx /usr/local/nginx/sbin/nginx -t 12.启动nginx /usr/local/nginx/sbin/nginx ps -ef|grep nginx 13.访问服务器IP，出现下图说明安装成功 Copyright © Dejavu.Tech.,2019-2021 all right reserved，文档更新日期： 2021-09-15 "},"config/setup.html":{"url":"config/setup.html","title":"安装","keywords":"","body":"安装 快速上线版客户跳过本章内容 注册完小程序及配置好服务器后，官网下载吃货星球小程序的代码包如下： 后端 1.打开宝塔面板，点击网站->添加站点 2.填入小程序站点域名（如何申请域名及备案、解析等相关内容请参阅上一章-配置服务器），会自动生成该网站根目录，数据库选择MySQL，可选生成的数据库名及密码或者自定义，PHP版本选择5.6（v4.7版以下小程序可选择PHP5.3版，选错版本有可能出现定位、支付、退款等不可预知的错误！！） 记住数据库名、数据库用户名及密码 3.站点建立成功后此时的SSL证书为未部署状态，点击设置 4.点击SSL，如图指示粘贴证书和key的内容，或选择宝塔SSL直接在线申请（不建议），点击确定 5.打开新建的网站根目录（一般为/www/wwwroot/自己的域名）点击上传把后端文件夹EP-Admin上传至根目录 6.解压至根目录后后得到完整的文件目录 7.直接访问网站域名安装后端 8.环境检测必须全部通过，PHP版本必须为5.6，关键目录权限应全部开启 9.创建数据库，输入新建站点时保存的数据库名、用户名及密码 10.创建初始管理员信息，初始管理员不可删除，请牢记账号密码，只有安装完成后后方可更改密码 11.等待安装完成后访问后台 12.后台简易功能简介 13.后台必要设置：填入本站网址、腾讯地图AppKey后点击页面下方更改（直接点击文字可跳转获取步骤） 支付必要设置：填入小程序APPID和小程序APPSECRET、商户ID和秘钥、上传支付证书后点击更改（直接点击文字可跳转获取步骤） 完成后证书变为“已上传“，自此后端安装工作全部完成。 前端 1.根据自己的本地环境系统下载微信开发者工具 2.使用小程序管理员微信或小程序后台添加的小程序项目开发成员扫码登录微信开发者工具 3.添加新的小程序 4.填写项目名称（自定），目录选择下载好的前端文件夹EP-WachatApp，填入小程序AppID，初始模板选用默认模板，点击确定 5.工具右上角点击详情 -> 本地设置，如图所示勾选项目设置，调试基础库可任选，基础库版本越低所兼容的微信版本越低，最低不能小于2.9.3 6.工具中间资源管理器找到并点击根目录下的siteinfo.js文件，右侧把自己的域名修改为后端真实域名，点击上方编译 7.编译完成后调试器Console中未有红叉错误（忽略黄色警告和蓝色提示），在后台添加简易测试商品后重新点击编译，左侧模拟器显示相对应的测试商品卡片即表明前端已跑通 8.点击工具右上角上传，弹窗点击确定后等待上传完毕，非新装客户选择版本升级后点击上传（版本号和项目备注自定义） 9.登录商城后台，请严格按照小程序平台里设置 -> 服务类目里的的商品类目添加不少于十个商品，否则上线版本将审核不通过 10.回到小程序平台，点击左侧版本管理，可以看到开发者工具上传的开发版本，体验用户可扫描点击体验版弹出的二维码体验真机线上小程序前端，点击提交审核,勾选平台规则，点击下一步 11.点击继续提交，版本描述自行填写，下方表单建议均留空，根据自身需求选择仅在企业微信中运行和审核加急，点击提交审核 12.提交后可看到审核版本，新开小程序一般1-3个工作日通过，小程序升级一般1个工作日内即可通过，审核成功后会通过不限于邮箱、微信及小程序平台站内信通知，审核不成功大概率会回复商品与类目数量不符，请于后台调整或添加商品后重新提交审核 13.审核通过后点击提交发布，客户数量≤50000人选择全量发布，客户数量≥50000人选择按微信号灰度发布，管理员或开发人员扫码验证后发布成功 Copyright © Dejavu.Tech.,2019-2021 all right reserved，文档更新日期： 2021-09-15 "},"function/function.html":{"url":"function/function.html","title":"系统功能简介","keywords":"","body":"简介 吃货星球社区团购系统（以下简称本系统）默认为S2B2C新型电商模式，系统绝大部分功能在后台设置或添加页里里均有提示（如下图），用户不必全篇阅读本文档即可快速上手 订单流程 本系统订单的常规发货流程为：客户付款（不含货到付款） -> 用户下单（待发货，备货中） -> 平台发货（已发货，配送中） -> 团长签收（待自提，待团长配送） -> 待收货（团长配送，已自提） -> 客户收货（确认收货，确认核销，后台确认，货到付款） -> 申请售后（退货，退款） 流程途径有多种方式可选： 平台发货方式途径 1.订单列表：每个订单点击 2.批量发货：订单列表中先导出表格，批量发货中导入表格文件 -> 确认导入 -> 一键发货到团长 3.平台配送：配送 -> 生成配送单 -> 配送单管理 -> 一键配送 4.自动发货：此模式客户下单后自动显示为“配送中”状态 订单设置 -> 订单自动发货，勾选所需要的模式 只有订单在待发货状态，才可以在配送中截单。如果该订单被单独点击发货了，就不会统计在生成配送单中 团长签收方式途径 1.前端团长中心 -> 我的团单，每个订单点击签收 2.平台配送 -> 生成配送单 -> 配送单管理 -> 确认配送 收货方式途径 1.前端微信扫一扫 -> 客户个人中心收货码 -> 确认 2.前端团长中心 -> 社区用户待核销 -> 搜索输入微信昵称或联系人姓名或手机号 -> 该用户的待核销商品 -> 确认 3.平台订单列表 -> 确认收货，或 -> 订单详情 -> 确认收货 付款方式 1.微信支付：包括微信零钱支付、储蓄卡信用卡支付 2.余额支付：客户通过充值 配送方式 本系统支持三种配送方式： 1.用户自提：平台把商品送到团长 -> 客户自提（这种模式比较适合社区店铺作为团长） 2.团长配送：平台把商品送到团长 -> 团长送货上门（这种模式比较适合小区住户作为团长） 3.快递配送：使用快递或同城配送，商品直接送达客户 佣金怎么算？团长配送费、快递费如何结算 商品合计=商品单价a数量+商品单价b数量+... 团长所得=（商品合计-满减-优惠券）*商品提成比例+团长配送费 当用户自提时：团长所得=（商品合计-满减-优惠券）*商品提成比例 当团长配送时：团长所得=（商品合计-满减-优惠券）*商品提成比例+团长配送费 当快递配送时：团长所得=（商品合计-满减-优惠券）*商品提成比例 团长配送费100%结算给团长。 快递费100%留在平台。 供应商所得： 订单-配送员管理-配送设置 配送员佣金有三种模式，可根据需要的佣金模式进行设置。 添加配送员完成以后，配送员如何进入“配送员中心”，配送员如何接单？ 配送员中心在小程序端-我的-配送员中心 社区团购团长提成，不绑定关系，在谁下单就算谁的。会员一般情况下，可切换团长小区下单 团长分销提成，绑定关系，团长与团长关系 永久绑定 会员分销提成，绑定关系，会员与会员之间关系 永久绑定 那层佣金，去找对应关系，分开看就行了 狮子鱼社区团购系统 包含以下三种模式： 1.社区团购团长提成（默认不可关），用户和团长不绑定，用户可以切换，没啥关系，用户哪里下提成就是谁的，团长设置处全局，或商品编辑设置（如有设置会优先生效）或者 团长设置，按团长等级提成 2.团长分销提成（可开关）（三级或以内自定义级数） 上下级关系永久，只有后台能改 小程序——团长中心——团长分销——推荐二维码有效 支持设置推荐成功奖励金 3.会员分销提成（可开关）（三级或以内自定义级数） 上下级关系永久，只有后台能改 转发首页或商品，分享首页或商品海报，分销中心推广二维码，给新人登录锁定下线 各模式之间没啥关系，互不影响，各自看各自关系 一个会员，可能是团长，可能同时是分销员 建议最多开2种，推荐社区团购团长提成（默认必开）+会员分销 团长分销模式开启（和社区团购的团长提成模式不一样），团长a推荐了一个团长b，形成团长分销中的团长上下级，a是b的上级。这个团长b 出的业绩(假设 消费者 c购买)，上级团长就有提成。如果 你开了团长分销。 如果 消费者 c，他本身 是 通过 某 分销 员 e来的，那么 他消费了，e就应该拿到 会员 分销 提成，如果 你有开会员分销。c本身 在 b消费，b是社区团购团长，能拿到 提成。 bc 社区团购团长提成 （b是社区团购的团长，c是在b团长下的消费者） a(bc) 团长分销 （团长与团长间的关系，团长a是团长b的上级团长，团长a拿团长分销的一级分销提成。c的消费，b拿社区团购的团长提成，a拿团长分销的一级提成。） ec 会员分销 （会员与会员之间的关系，c消费，e做为c的一级上级，拿会员分销的一级提成。） 如果b是团长，也是分销员，c是新人，b 发 自己链接 给 c，建立 了会员分销上下级 关系 ，c消费，b拿到 社区团购团长提成 会员分销 上线提成 注意：拼团商品，编辑，如果开了佣金团（与上面说的都无关），这里的佣金团，收益人指拼团商品的开团的那个人，与社区团购团长不是同一个人。拼团设置，如果开了分销，开了关联团长，社区团购团长提成，会员分销提成，照样有提成。社区团购团长提成（团长拿佣金）+团长分销（团长上线拿佣金）+会员分销（会员上线拿佣金）+拼团商品佣金团（拼团中开团人拿佣金），都开了，都同时发生支出 不能。不过可以给他一个独立供应商供应商后台链接，账户密码，他就可以上传管理商品，和订单发货了，和系统自动结算，发起提现。 独立供应商，类似京东第三方店铺，不过比较简单罢了。独立供应商的商品，用户同一个购买物与其它平台自营商品下单后，会自动分拆，单独发货。 独立供应商，上传产品，商品价格自己定，可分配所有团长可销售或部分团长可销售。 结算提现：扣除团长分销佣金，会员分销佣金，团长提成佣金，平台技术服务费比例提成后，才是可提现。 Copyright © Dejavu.Tech.,2019-2021 all right reserved，文档更新日期： 2021-09-15 "},"operation/marketing.html":{"url":"operation/marketing.html","title":"营销活动","keywords":"","body":"营销活动 积分可通过评价消费等 Copyright © Dejavu.Tech.,2019-2021 all right reserved，文档更新日期： 2021-09-15 "},"operation/operation.html":{"url":"operation/operation.html","title":"开始运营","keywords":"","body":"待更新 Copyright © Dejavu.Tech.,2019-2021 all right reserved，文档更新日期： 2021-09-01 "},"function/extension.html":{"url":"function/extension.html","title":"扩展功能","keywords":"","body":"待更新 Copyright © Dejavu.Tech.,2019-2021 all right reserved，文档更新日期： 2021-09-01 "},"config/q&a.html":{"url":"config/q&a.html","title":"重点问题汇总","keywords":"","body":"1.电商模式更改 本系统默认为小区团长分销模式，用户如果想使用普通的电商模式可通过后台团长 -> 团长设置中开启单团长模式（主体必须要设置一个团长） Copyright © Dejavu.Tech.,2019-2021 all right reserved，文档更新日期： 2021-09-15 "}}